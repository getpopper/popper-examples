language: python
python:
- 2.7
services: docker
before_install:
- openssl aes-256-cbc -K $encrypted_1c8c5e59c746_key -iv $encrypted_1c8c5e59c746_iv
  -in pipelines/cloudlab-benchmarking/geni/cloudlab_credentials.zip.enc -out pipelines/cloudlab-benchmarking/geni/cloudlab_credentials.zip -d
- unzip pipelines/cloudlab-benchmarking/geni/cloudlab_credentials.zip -d pipelines/cloudlab-benchmarking/geni/
- sudo sh -c 'echo "deb http://cran.rstudio.com/bin/linux/ubuntu trusty/" >> /etc/apt/sources.list'
- gpg --keyserver keyserver.ubuntu.com --recv-key E084DAB9
- gpg -a --export E084DAB9 | sudo apt-key add -
- sudo apt-get update
- sudo apt remove libgdal-dev
- sudo apt remove libproj-dev
- sudo apt remove gdal-bin
- sudo add-apt-repository ppa:ubuntugis/ubuntugis-unstable
- sudo apt-get update
- sudo apt-cache policy libgdal-dev
- sudo apt get libgdal-dev
- sudo apt-get install python3.4
- sudo apt-get install python3-pip
- sudo apt-get install libudunits2-dev
- sudo apt-get install libgdal1-dev libproj-dev
- sudo apt-get -y install r-base
- sudo chmod o+w /usr/local/lib/R/site-library
install:
- git clone --recursive https://github.com/systemslab/popper /tmp/popper
- export PATH=$PATH:/tmp/popper/cli/bin
- export PYTHONUNBUFFERED=1
script: popper run sea-surface-mapping-r
env:
- N_REPETITIONS: 5
